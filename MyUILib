local MyUILib = {}

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

function MyUILib:CreateWindow(config)
	local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
	ScreenGui.Name = config.Name or "MyUI"
	ScreenGui.ResetOnSpawn = false

	local MainFrame = Instance.new("Frame", ScreenGui)
	MainFrame.Size = UDim2.new(0, 450, 0, 350)
	MainFrame.Position = UDim2.new(0.5, -225, 0.5, -175)
	MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	MainFrame.BackgroundTransparency = 0.1
	MainFrame.BorderSizePixel = 0
	MainFrame.Name = "MainFrame"
	MainFrame.Active = true
	MainFrame.Draggable = true

	local Corner = Instance.new("UICorner", MainFrame)
	Corner.CornerRadius = UDim.new(0, 12)

	local TopBar = Instance.new("Frame", MainFrame)
	TopBar.Size = UDim2.new(1, 0, 0, 35)
	TopBar.Position = UDim2.new(0, 0, 0, -35)
	TopBar.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	TopBar.BackgroundTransparency = 0.2
	TopBar.BorderSizePixel = 0

	local TopBarCorner = Instance.new("UICorner", TopBar)
	TopBarCorner.CornerRadius = UDim.new(0, 10)

	local Title = Instance.new("TextLabel", TopBar)
	Title.Size = UDim2.new(1, 0, 1, 0)
	Title.BackgroundTransparency = 1
	Title.Text = config.Name or "Meu Menu"
	Title.Font = Enum.Font.GothamBold
	Title.TextSize = 20
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.TextStrokeTransparency = 0.8
	Title.TextYAlignment = Enum.TextYAlignment.Center

	local TabButtons = Instance.new("Frame", MainFrame)
	TabButtons.Size = UDim2.new(0, 120, 1, 0)
	TabButtons.Position = UDim2.new(0, 0, 0, 0)
	TabButtons.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	TabButtons.BackgroundTransparency = 0.2
	TabButtons.BorderSizePixel = 0

	local TabButtonsCorner = Instance.new("UICorner", TabButtons)
	TabButtonsCorner.CornerRadius = UDim.new(0, 10)

	local ContentFrame = Instance.new("Frame", MainFrame)
	ContentFrame.Size = UDim2.new(1, -120, 1, 0)
	ContentFrame.Position = UDim2.new(0, 120, 0, 0)
	ContentFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
	ContentFrame.BackgroundTransparency = 0.1
	ContentFrame.BorderSizePixel = 0
	ContentFrame.Name = "ContentFrame"

	local ContentCorner = Instance.new("UICorner", ContentFrame)
	ContentCorner.CornerRadius = UDim.new(0, 10)

	local Tabs = {}

	function MyUILib:CreateTab(tabName)
		local Button = Instance.new("TextButton", TabButtons)
		Button.Size = UDim2.new(1, 0, 0, 35)
		Button.Text = tabName
		Button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		Button.TextColor3 = Color3.fromRGB(255, 255, 255)
		Button.BackgroundTransparency = 0.1
		Button.BorderSizePixel = 0
		Button.Font = Enum.Font.Gotham
		Button.TextSize = 16

		local BtnCorner = Instance.new("UICorner", Button)
		BtnCorner.CornerRadius = UDim.new(0, 6)

		local Tab = Instance.new("Frame", ContentFrame)
		Tab.Size = UDim2.new(1, 0, 1, 0)
		Tab.BackgroundTransparency = 1
		Tab.Visible = false
		Tab.Name = tabName

		local Layout = Instance.new("UIListLayout", Tab)
		Layout.Padding = UDim.new(0, 8)
		Layout.SortOrder = Enum.SortOrder.LayoutOrder

		local Padding = Instance.new("UIPadding", Tab)
		Padding.PaddingTop = UDim.new(0, 10)
		Padding.PaddingLeft = UDim.new(0, 10)
		Padding.PaddingRight = UDim.new(0, 10)

		Button.MouseButton1Click:Connect(function()
			for _, v in pairs(ContentFrame:GetChildren()) do
				if v:IsA("Frame") then
					v.Visible = false
				end
			end
			Tab.Visible = true
		end)

		Tabs[tabName] = Tab

		local tabFunctions = {}

		function tabFunctions:AddButton(text, callback)
			local Btn = Instance.new("TextButton", Tab)
			Btn.Size = UDim2.new(1, 0, 0, 35)
			Btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
			Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
			Btn.Text = text
			Btn.Font = Enum.Font.Gotham
			Btn.TextSize = 16
			Btn.BorderSizePixel = 0

			local BtnCorner = Instance.new("UICorner", Btn)
			BtnCorner.CornerRadius = UDim.new(0, 6)

			Btn.MouseButton1Click:Connect(callback)
		end

		return tabFunctions
	end

	return MyUILib
end

return MyUILib
